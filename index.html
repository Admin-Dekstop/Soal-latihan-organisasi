<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Ujian EKMA4157</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #f8fafc; -webkit-tap-highlight-color: transparent; }
        .safe-area-bottom { padding-bottom: env(safe-area-inset-bottom); }
        .option-btn { transition: all 0.2s; }
        .option-btn:active { transform: scale(0.99); }
        .feedback-item { border-left: 3px solid transparent; padding-left: 10px; margin-bottom: 8px; }
        .feedback-item.correct { border-left-color: #22c55e; background: #f0fdf4; }
        .feedback-item.wrong { border-left-color: #ef4444; background: #fef2f2; }
        .feedback-item.neutral { border-left-color: #94a3b8; }
        @keyframes pulse-timer { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }
        .timer-low { color: #ef4444; animation: pulse-timer 1s infinite; font-weight: 800; }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
    </style>
</head>
<body class="h-[100dvh] flex flex-col overflow-hidden text-slate-800">

    <!-- START SCREEN -->
    <div id="start-screen" class="absolute inset-0 z-50 bg-white flex flex-col items-center justify-center p-6 text-center">
        <div class="w-24 h-24 bg-gradient-to-br from-blue-600 to-indigo-700 rounded-3xl flex items-center justify-center shadow-2xl shadow-blue-200 mb-8 transform rotate-3">
            <svg class="w-12 h-12 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
        </div>
        <h1 class="text-3xl font-extrabold text-slate-900 mb-3 tracking-tight">Ujian EKMA4157</h1>
        <div class="bg-blue-50 text-blue-800 px-4 py-2 rounded-lg font-bold text-sm mb-6 border border-blue-100">
            ‚è±Ô∏è Waktu Pengerjaan: 90 Menit
        </div>
        <p class="text-slate-500 text-sm mb-8 max-w-xs leading-relaxed">
            100 Soal Latihan Komprehensif<br>
            <span class="font-semibold text-blue-600">Modul 1 s.d. Modul 9</span><br>
            Lengkap dengan Pembahasan & Analisis
        </p>
        <button onclick="startQuiz()" class="w-full max-w-sm bg-slate-900 text-white py-4 rounded-2xl font-bold text-lg shadow-xl shadow-slate-200 active:scale-95 transition-all ring-4 ring-slate-50 border-2 border-transparent hover:border-slate-800">
            Mulai Ujian
        </button>
    </div>

    <!-- HEADER -->
    <header class="bg-white border-b border-slate-200 px-5 h-16 flex items-center justify-between shrink-0 z-10 shadow-sm">
        <div>
            <p class="text-[10px] font-bold text-slate-400 uppercase tracking-wider mb-0.5">Sisa Waktu</p>
            <p id="timer" class="font-mono text-xl font-bold text-slate-800 tracking-tight">90:00</p>
        </div>
        <div class="text-right">
            <p class="text-[10px] font-bold text-slate-400 uppercase tracking-wider mb-0.5">Soal</p>
            <p id="progress" class="text-base font-bold text-blue-600">1 <span class="text-slate-300 text-sm font-normal">/ 100</span></p>
        </div>
    </header>

    <!-- MAIN SCROLL AREA -->
    <main id="main-content" class="flex-1 overflow-y-auto p-4 pb-32 bg-slate-50 scroll-smooth no-scrollbar">
        
        <!-- QUESTION CARD -->
        <div class="bg-white p-6 rounded-2xl shadow-[0_2px_8px_-2px_rgba(0,0,0,0.05)] border border-slate-100 mb-6">
            <div class="flex flex-wrap items-center gap-2 mb-4">
                <span id="module-label" class="bg-blue-50 text-blue-700 text-[10px] font-bold px-2.5 py-1 rounded-md border border-blue-100 uppercase tracking-wide">MODUL</span>
                <span id="source-label" class="bg-purple-50 text-purple-700 text-[10px] font-bold px-2.5 py-1 rounded-md border border-purple-100 uppercase tracking-wide">SUMBER</span>
            </div>
            <h2 id="question-text" class="text-lg font-medium text-slate-800 leading-relaxed">
                Loading...
            </h2>
        </div>

        <!-- OPTIONS -->
        <div id="options-container" class="space-y-3 mb-8">
            <!-- Buttons injected here -->
        </div>

        <!-- DETAILED FEEDBACK BOX -->
        <div id="feedback-box" class="hidden bg-white rounded-2xl border border-slate-200 p-5 shadow-sm mb-8 animate-fade-in-up">
            <div class="flex items-center gap-3 mb-4 pb-3 border-b border-slate-100">
                <div id="fb-icon" class="text-2xl"></div>
                <div>
                    <h3 id="fb-status" class="font-bold text-sm"></h3>
                    <p class="text-[10px] text-slate-400 font-bold uppercase tracking-wider mt-0.5">Analisis Jawaban</p>
                </div>
            </div>
            
            <div id="fb-details" class="text-sm space-y-2.5 mb-4">
                <!-- Dynamic Content -->
            </div>

            <div class="bg-slate-50 rounded-xl p-3 border border-slate-100">
                <p class="text-[10px] text-slate-400 font-bold uppercase mb-1">Konsep Kunci:</p>
                <p id="fb-theory" class="text-sm text-slate-700 font-medium italic"></p>
            </div>
        </div>

    </main>

    <!-- BOTTOM NAV -->
    <footer class="bg-white border-t border-slate-200 p-4 absolute bottom-0 w-full safe-area-bottom z-10 shadow-[0_-4px_20px_-5px_rgba(0,0,0,0.05)]">
        <div class="flex gap-3 max-w-2xl mx-auto">
            <button id="prev-btn" onclick="prevQuestion()" class="w-14 h-14 rounded-2xl bg-slate-100 text-slate-400 flex items-center justify-center hover:bg-slate-200 disabled:opacity-30 disabled:hover:bg-slate-100 transition-colors">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M15 19l-7-7 7-7"></path></svg>
            </button>
            <button id="next-btn" onclick="nextQuestion()" class="flex-1 bg-blue-600 text-white font-bold text-lg rounded-2xl shadow-lg shadow-blue-200 active:scale-[0.98] transition-all hover:bg-blue-700 flex items-center justify-center gap-2">
                <span>Selanjutnya</span>
                <svg class="w-5 h-5 opacity-50" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M9 5l7 7-7 7"></path></svg>
            </button>
        </div>
    </footer>

    <script>
        // 100 SOAL LENGKAP & UNIK (MODUL 1-9)
        const database = [
            // MODUL 1
            {q: "Fokus utama Pendekatan Klasik dalam teori organisasi adalah...", o: ["Kenyamanan kerja", "Pembagian kerja & efisiensi mekanis", "Adaptasi lingkungan", "Hubungan informal"], r: ["Salah.", "Benar. Klasik (Taylor/Fayol) fokus pada struktur & efisiensi.", "Salah. Ini Modern.", "Salah. Ini Neoklasik."], a: 1, m: "Modul 1", s: "Konsep Dasar", t: "Klasik memandang organisasi sebagai mesin."},
            {q: "Kelemahan utama Pendekatan Klasik yang diperbaiki Neoklasik adalah...", o: ["Terlalu memperhatikan lingkungan", "Mengabaikan struktur", "Mengabaikan aspek psikologis manusia", "Tidak ada aturan"], r: ["Salah.", "Salah.", "Benar. Neoklasik menekankan 'Human Relations'.", "Salah."], a: 2, m: "Modul 1", s: "Analisis", t: "Manusia punya perasaan, bukan sekadar onderdil."},
            {q: "Pendekatan Modern memandang organisasi sebagai sistem...", o: ["Tertutup", "Terbuka", "Terisolasi", "Statis"], r: ["Salah.", "Benar. Berinteraksi dengan lingkungan.", "Salah.", "Salah."], a: 1, m: "Modul 1", s: "Teori Sistem", t: "Open System Theory."},
            {q: "Prinsip 'Unity of Command' (Kesatuan Komando) Fayol berarti...", o: ["Satu atasan untuk satu bawahan", "Satu tujuan", "Satu gaji", "Satu metode"], r: ["Benar. Mencegah kebingungan instruksi.", "Salah.", "Salah.", "Salah."], a: 0, m: "Modul 1", s: "Fayol", t: "Satu komando mencegah konflik."},
            {q: "Bapak Manajemen Ilmiah (Scientific Management) adalah...", o: ["Henri Fayol", "Max Weber", "Frederick W. Taylor", "Elton Mayo"], r: ["Salah.", "Salah.", "Benar. Studi waktu & gerak.", "Salah."], a: 2, m: "Modul 1", s: "Sejarah", t: "Taylorisme = Efisiensi operasional."},
            {q: "Organisasi memiliki ketergantungan ganda terhadap lingkungan pada sisi...", o: ["Input dan Output", "Produksi dan Pemasaran", "Karyawan dan Manajer", "Pemerintah dan Pesaing"], r: ["Benar. Mengambil sumber daya & melepas produk.", "Salah.", "Salah.", "Salah."], a: 0, m: "Modul 1", s: "Sistem Terbuka", t: "Siklus Input-Proses-Output."},
            {q: "Pendekatan Kontingensi menyatakan bahwa...", o: ["Ada satu cara terbaik", "Harus birokratis", "Desain tergantung situasi", "Abaikan teknologi"], r: ["Salah.", "Salah.", "Benar. 'It depends'.", "Salah."], a: 2, m: "Modul 1", s: "Modern", t: "Tidak ada 'One Best Way'."},
            {q: "Eksperimen Hawthorne menemukan bahwa produktivitas dipengaruhi oleh...", o: ["Cahaya", "Perhatian sosial & psikologis", "Gaji", "Hukuman"], r: ["Salah.", "Benar. Hawthorne Effect.", "Salah.", "Salah."], a: 1, m: "Modul 1", s: "Neoklasik", t: "Faktor sosial > Faktor fisik."},
            {q: "Organisasi dalam arti 'Dinamis' dipandang sebagai...", o: ["Wadah", "Proses kerjasama", "Gedung", "Struktur"], r: ["Salah.", "Benar. Aktivitas yang bergerak.", "Salah.", "Salah."], a: 1, m: "Modul 1", s: "Definisi", t: "Organisasi = Proses interaksi."},
            {q: "Tujuan spesialisasi tugas (Division of Labor) adalah...", o: ["Kreativitas", "Kepuasan", "Efisiensi/Produktivitas", "Sosialisasi"], r: ["Salah.", "Salah.", "Benar. Pekerja jadi sangat mahir di satu hal.", "Salah."], a: 2, m: "Modul 1", s: "Klasik", t: "Spesialisasi meningkatkan output."},

            // MODUL 2
            {q: "Lingkungan Tugas (Task Environment) adalah...", o: ["Lingkungan makro", "Internal karyawan", "Elemen yang berinteraksi langsung", "Budaya"], r: ["Salah.", "Salah.", "Benar. Contoh: Pesaing, Konsumen.", "Salah."], a: 2, m: "Modul 2", s: "Lingkungan", t: "Lingkungan Tugas berpengaruh langsung."},
            {q: "Dimensi ketidakpastian lingkungan menurut Duncan adalah...", o: ["Kompleksitas & Stabilitas", "Ukuran & Bentuk", "Internal & Eksternal", "Teknologi & Manusia"], r: ["Benar.", "Salah.", "Salah.", "Salah."], a: 0, m: "Modul 2", s: "Duncan", t: "Uncertainty = Complexity + Change."},
            {q: "Lingkungan dengan ketidakpastian TERTINGGI adalah...", o: ["Sederhana-Stabil", "Kompleks-Stabil", "Sederhana-Labil", "Kompleks-Labil"], r: ["Salah.", "Salah.", "Salah.", "Benar. Banyak elemen & berubah terus."], a: 3, m: "Modul 2", s: "Analisis Duncan", t: "Complex + Unstable = High Uncertainty."},
            {q: "Pada lingkungan 'Diganggu Bereaksi' (Oligopoli), organisasi butuh...", o: ["Mengabaikan lawan", "Strategi reaksi pesaing", "Produksi saja", "Bubar"], r: ["Salah.", "Benar. Seperti catur, langkah lawan menentukan langkah kita.", "Salah.", "Salah."], a: 1, m: "Modul 2", s: "Emery Trist", t: "Disturbed-Reactive environment."},
            {q: "Strategi 'Kooptasi' adalah...", o: ["Membeli pesaing", "Merekrut tokoh lingkungan masuk struktur", "Perang harga", "Iklan"], r: ["Salah.", "Benar. Merangkul ancaman jadi bagian internal.", "Salah.", "Salah."], a: 1, m: "Modul 2", s: "Strategi", t: "Cooptation absorbs elements."},
            {q: "Fungsi Boundary Spanning adalah...", o: ["Menjaga gerbang", "Mendeteksi info luar & representasi ke luar", "Audit internal", "Produksi"], r: ["Salah.", "Benar. Mata & telinga organisasi.", "Salah.", "Salah."], a: 1, m: "Modul 2", s: "Struktur", t: "Menghubungkan internal & eksternal."},
            {q: "Bagian 'Buffering' bertujuan untuk...", o: ["Melindungi Inti Teknis", "Meningkatkan penjualan", "Mengurangi gaji", "Memecat"], r: ["Benar. Agar produksi stabil walau suplai fluktuatif.", "Salah.", "Salah.", "Salah."], a: 0, m: "Modul 2", s: "Thompson", t: "Buffering protects technical core."},
            {q: "Jika lingkungan kompleks, struktur organisasi cenderung...", o: ["Sederhana", "Terdiferensiasi", "Sentralistik", "Monoton"], r: ["Salah.", "Benar. Law of Requisite Variety.", "Salah.", "Salah."], a: 1, m: "Modul 2", s: "Adaptasi", t: "Kompleksitas dilawan kompleksitas."},
            {q: "Isomorfisma Institusional menjelaskan organisasi...", o: ["Berbeda", "Menjadi mirip demi legitimasi", "Inovatif", "Bangkrut"], r: ["Salah.", "Benar. Meniru agar diakui.", "Salah.", "Salah."], a: 1, m: "Modul 2", s: "Teori Institusi", t: "Mimetic isomorphism."},
            {q: "Resource Dependence Theory menyarankan...", o: ["Kuasai sumber daya kritis", "Bergantung satu pemasok", "Tutup diri", "Nirlaba"], r: ["Benar. Agar tidak disetir lingkungan.", "Salah.", "Salah.", "Salah."], a: 0, m: "Modul 2", s: "Pfeffer", t: "Power comes from resources."},

            // MODUL 3
            {q: "Sasaran Resmi (Official Goal) sulit diukur karena...", o: ["Spesifik", "Abstrak & Kualitatif", "Berubah", "Tidak penting"], r: ["Salah.", "Benar. Sering hanya jargon/misi.", "Salah.", "Salah."], a: 1, m: "Modul 3", s: "Sasaran", t: "Official vs Operative Goals."},
            {q: "Sasaran Aktual (Operative Goal) adalah...", o: ["Website", "Apa yang benar-benar dikerjakan", "Mimpi", "Slogan"], r: ["Salah.", "Benar. Terlihat dari alokasi dana.", "Salah.", "Salah."], a: 1, m: "Modul 3", s: "Definisi", t: "Operative goals guide action."},
            {q: "Pendekatan Sumber (System Resource) mengukur efektivitas dari...", o: ["Output", "Input/Perolehan sumber daya", "Harmoni", "Saham"], r: ["Salah.", "Benar. Kemampuan menarik input.", "Salah.", "Salah."], a: 1, m: "Modul 3", s: "Efektivitas", t: "Input-based measurement."},
            {q: "Pendekatan Proses Internal menilai...", o: ["Pasar", "Kesehatan suasana internal", "Laba", "Pemerintah"], r: ["Salah.", "Benar. Semangat kerja, minim konflik.", "Salah.", "Salah."], a: 1, m: "Modul 3", s: "Efektivitas", t: "Healthy organization = Effective."},
            {q: "Pendekatan Konstituensi (Stakeholder) melihat efektivitas sebagai...", o: ["Satu ukuran", "Kepuasan berbagai pihak", "Laba", "Hukum"], r: ["Salah.", "Benar. Penilaian subjektif tiap kelompok.", "Salah.", "Salah."], a: 1, m: "Modul 3", s: "Integratif", t: "Multiple perspectives."},
            {q: "Metode 'Satisfying' (Simon) berarti...", o: ["Optimalisasi", "Hasil 'cukup' memenuhi kriteria", "Menunda", "Mengundi"], r: ["Salah.", "Benar. Solusi yang memuaskan, bukan maksimal.", "Salah.", "Salah."], a: 1, m: "Modul 3", s: "Keputusan", t: "Bounded Rationality."},
            {q: "Balanced Scorecard mengukur dari perspektif...", o: ["Keuangan", "Pelanggan", "Berbagai perspektif seimbang", "Lingkungan"], r: ["Salah.", "Salah.", "Benar. Financial & Non-financial.", "Salah."], a: 2, m: "Modul 3", s: "Alat Ukur", t: "Comprehensive view."},
            {q: "Sasaran Produk fokus pada...", o: ["Kualitas/Kuantitas Output", "Emosi", "Politik", "Listrik"], r: ["Benar.", "Salah.", "Salah.", "Salah."], a: 0, m: "Modul 3", s: "Sasaran", t: "Product goals = Output side."},
            {q: "Sequential Attention adalah cara menangani sasaran ganda dengan...", o: ["Sekaligus", "Bergantian bertahap", "Batal", "Paksa"], r: ["Salah.", "Benar. Fokus satu per satu.", "Salah.", "Salah."], a: 1, m: "Modul 3", s: "Manajemen", t: "Time-based attention."},
            {q: "Kelemahan Pendekatan Sasaran adalah...", o: ["Sasaran ganda/abstrak sulit diukur", "Fokus input", "Abaikan output", "Modern"], r: ["Benar.", "Salah.", "Salah.", "Salah."], a: 0, m: "Modul 3", s: "Kritik", t: "Goal ambiguity."},

            // MODUL 4
            {q: "Otoritas Rasional-Legal (Birokrasi) didasarkan pada...", o: ["Kharisma", "Tradisi", "Aturan/Hukum/Jabatan", "Fisik"], r: ["Salah.", "Salah.", "Benar. Legitimasi formal.", "Salah."], a: 2, m: "Modul 4", s: "Weber", t: "Legal-Rational Authority."},
            {q: "Bukan ciri birokrasi ideal Weber adalah...", o: ["Pembagian kerja", "Hubungan personal", "Hierarki", "Aturan tertulis"], r: ["Salah.", "Benar. Birokrasi harus Impersonal.", "Salah.", "Salah."], a: 1, m: "Modul 4", s: "Karakteristik", t: "Impersonality."},
            {q: "Goal Displacement (Disfungsi Birokrasi) terjadi saat...", o: ["Tujuan tercapai", "Aturan jadi tujuan itu sendiri", "Malas", "Korupsi"], r: ["Salah.", "Benar. Ketaatan buta pada SOP.", "Salah.", "Salah."], a: 1, m: "Modul 4", s: "Merton", t: "Rules become ends."},
            {q: "Fase pertumbuhan pertama (Greiner) adalah Kreativitas, berakhir dengan krisis...", o: ["Birokrasi", "Kepemimpinan", "Kontrol", "Otonomi"], r: ["Salah.", "Benar. Pendiri biasanya tak suka manajemen.", "Salah.", "Salah."], a: 1, m: "Modul 4", s: "Greiner", t: "Crisis of Leadership."},
            {q: "Fase Pengarahan (Direction) berakhir dengan krisis...", o: ["Otonomi", "Kontrol", "Birokrasi", "Mati"], r: ["Benar. Bawahan minta kebebasan.", "Salah.", "Salah.", "Salah."], a: 0, m: "Modul 4", s: "Greiner", t: "Crisis of Autonomy."},
            {q: "Fase Pendelegasian memicu krisis...", o: ["Kontrol", "Kepemimpinan", "Uang", "Birokrasi"], r: ["Benar. Pusat kehilangan kendali.", "Salah.", "Salah.", "Salah."], a: 0, m: "Modul 4", s: "Greiner", t: "Crisis of Control."},
            {q: "Atropi (Kemunduran Organisasi) artinya...", o: ["Penyusutan kemampuan/tua/kaku", "Serangan lawan", "Pasar berubah", "Bencana"], r: ["Benar. Pembusukan dari dalam.", "Salah.", "Salah.", "Salah."], a: 0, m: "Modul 4", s: "Kemunduran", t: "Atrophy."},
            {q: "Vulnerability (Kerentanan) dialami organisasi...", o: ["Besar", "Kecil/Baru", "Pemerintah", "Global"], r: ["Salah.", "Benar. Belum kuat menahan guncangan.", "Salah.", "Salah."], a: 1, m: "Modul 4", s: "Kemunduran", t: "Liability of newness."},
            {q: "Birokrasi tidak cocok untuk profesional karena...", o: ["Mahal", "Konflik otoritas profesi vs birokrasi", "Gengsi", "Suka aturan"], r: ["Salah.", "Benar. Profesional loyal pada ilmu, bukan bos.", "Salah.", "Salah."], a: 1, m: "Modul 4", s: "Analisis", t: "Professional conflict."},
            {q: "Rasio Administratif pada organisasi besar biasanya...", o: ["Naik", "Turun (Economies of Scale)", "Tetap", "Hilang"], r: ["Salah.", "Benar. Lebih efisien.", "Salah.", "Salah."], a: 1, m: "Modul 4", s: "Ukuran", t: "Administrative economy."},

            // MODUL 5
            {q: "Kompleksitas Organisasi adalah...", o: ["Kesulitan tugas", "Derajat diferensiasi", "Konflik", "Gaji"], r: ["Salah.", "Benar. Seberapa terpecah-pecah organisasi.", "Salah.", "Salah."], a: 1, m: "Modul 5", s: "Definisi", t: "Differentiation."},
            {q: "Diferensiasi Horizontal merujuk pada...", o: ["Level hierarki", "Geografis", "Unit/Spesialisasi di level sama", "Direktur"], r: ["Salah.", "Salah.", "Benar. Pembagian ke samping.", "Salah."], a: 2, m: "Modul 5", s: "Dimensi", t: "Horizontal differentiation."},
            {q: "Diferensiasi Vertikal diukur dari...", o: ["Jumlah karyawan", "Kedalaman hierarki", "Luas kantor", "Produk"], r: ["Salah.", "Benar. Jumlah tingkatan.", "Salah.", "Salah."], a: 1, m: "Modul 5", s: "Dimensi", t: "Vertical differentiation."},
            {q: "Rentang Kendali (Span of Control) lebar membuat struktur...", o: ["Tall", "Flat", "Rumit", "Sentral"], r: ["Salah.", "Benar. Sedikit level manajer.", "Salah.", "Salah."], a: 1, m: "Modul 5", s: "Struktur", t: "Wide span = Flat structure."},
            {q: "Diferensiasi Spasial berkaitan dengan...", o: ["Lokasi Geografis", "Spesialisasi", "Gaji", "Teknologi"], r: ["Benar. Sebaran fisik.", "Salah.", "Salah.", "Salah."], a: 0, m: "Modul 5", s: "Dimensi", t: "Spatial dispersion."},
            {q: "Semakin kompleks organisasi, kebutuhan koordinasi...", o: ["Turun", "Naik", "Tetap", "Hilang"], r: ["Salah.", "Benar. Bagian terpisah harus disatukan.", "Salah.", "Salah."], a: 1, m: "Modul 5", s: "Implikasi", t: "Integration needed."},
            {q: "Spesialisasi tugas tinggi adalah ciri diferensiasi...", o: ["Vertikal", "Horizontal", "Spasial", "Diagonal"], r: ["Salah.", "Benar. Division of labor.", "Salah.", "Salah."], a: 1, m: "Modul 5", s: "Konsep", t: "Specialization."},
            {q: "Keunggulan struktur Flat adalah...", o: ["Kontrol ketat", "Komunikasi cepat", "Promosi banyak", "Beban ringan"], r: ["Salah.", "Benar. Jalur pendek.", "Salah.", "Salah."], a: 1, m: "Modul 5", s: "Analisis", t: "Speed of info."},
            {q: "Penyebab utama kompleksitas naik adalah...", o: ["Pertumbuhan ukuran & lingkungan", "Penurunan", "Ganti CEO", "Aset susut"], r: ["Benar.", "Salah.", "Salah.", "Salah."], a: 0, m: "Modul 5", s: "Faktor", t: "Size drives complexity."},
            {q: "Rasio Administratif lebih besar pada organisasi...", o: ["Kecil", "Besar", "Raksasa", "Global"], r: ["Benar. Beban admin relatif berat di awal.", "Salah.", "Salah.", "Salah."], a: 0, m: "Modul 5", s: "Parkinson", t: "Small org inefficiency."},

            // MODUL 6
            {q: "Formalisasi adalah...", o: ["Keramahan", "Pembakuan tugas & aturan tertulis", "Untung", "Teknologi"], r: ["Salah.", "Benar. Dokumentasi SOP.", "Salah.", "Salah."], a: 1, m: "Modul 6", s: "Definisi", t: "Standardization."},
            {q: "Teknik Seleksi bertujuan...", o: ["Cari termurah", "Cari orang sesuai (Formalisasi awal)", "Buang waktu", "Pajak"], r: ["Salah.", "Benar. Pre-entry socialization.", "Salah.", "Salah."], a: 1, m: "Modul 6", s: "Teknik", t: "Selection as control."},
            {q: "Hubungan Profesionalisme & Formalisasi birokrasi...", o: ["Positif", "Negatif", "Netral", "Sama"], r: ["Salah.", "Benar. Substitusi.", "Salah.", "Salah."], a: 1, m: "Modul 6", s: "Hubungan", t: "Professionalism replaces rules."},
            {q: "Pekerjaan rutin biasanya memiliki formalisasi...", o: ["Rendah", "Tinggi", "Nol", "Sedang"], r: ["Salah.", "Benar. Mudah dibakukan.", "Salah.", "Salah."], a: 1, m: "Modul 6", s: "Tugas", t: "Routine = Formalizable."},
            {q: "Manajer Teori X cenderung menerapkan...", o: ["Formalisasi Tinggi", "Kebebasan", "Partisipasi", "Desentralisasi"], r: ["Benar. Tidak percaya bawahan.", "Salah.", "Salah.", "Salah."], a: 0, m: "Modul 6", s: "McGregor", t: "Theory X control."},
            {q: "Sosialisasi & Training berfungsi sebagai...", o: ["Hiburan", "Penanaman nilai/aturan", "Boros", "Legal"], r: ["Salah.", "Benar. Formalisasi mindset.", "Salah.", "Salah."], a: 1, m: "Modul 6", s: "Teknik", t: "Internalization."},
            {q: "Formalisasi Eksternal berasal dari...", o: ["Manajer", "Pemerintah/Profesi", "Karyawan", "Keluarga"], r: ["Salah.", "Benar. Aturan dari luar.", "Salah.", "Salah."], a: 1, m: "Modul 6", s: "Sumber", t: "External rules."},
            {q: "Job Description adalah wujud...", o: ["Sentralisasi", "Formalisasi", "Kompleksitas", "Diferensiasi"], r: ["Salah.", "Benar.", "Salah.", "Salah."], a: 1, m: "Modul 6", s: "Alat", t: "Written rules."},
            {q: "Semakin tinggi formalisasi, perilaku karyawan...", o: ["Terprediksi & seragam", "Kreatif", "Liar", "Lambat"], r: ["Benar.", "Salah.", "Salah.", "Salah."], a: 0, m: "Modul 6", s: "Dampak", t: "Predictability."},
            {q: "Organisasi Organik memiliki formalisasi...", o: ["Tinggi", "Rendah", "Absolut", "Maksimal"], r: ["Salah.", "Benar. Fleksibel.", "Salah.", "Salah."], a: 1, m: "Modul 6", s: "Struktur", t: "Organic = Low Formalization."},

            // MODUL 7
            {q: "Sentralisasi berkaitan dengan letak...", o: ["Pusat", "Wewenang keputusan", "Gudang", "Rapat"], r: ["Salah.", "Benar. Locus of decision.", "Salah.", "Salah."], a: 1, m: "Modul 7", s: "Definisi", t: "Authority location."},
            {q: "Keuntungan Desentralisasi adalah...", o: ["Konsistensi", "Respon cepat lokal", "Hemat", "Mutlak"], r: ["Salah.", "Benar. Speed.", "Salah.", "Salah."], a: 1, m: "Modul 7", s: "Manfaat", t: "Responsiveness."},
            {q: "Keputusan Strategis sebaiknya...", o: ["Disentralisasikan", "Didesentralisasikan", "Dibiarkan", "Diundi"], r: ["Benar. Risiko tinggi.", "Salah.", "Salah.", "Salah."], a: 0, m: "Modul 7", s: "Keputusan", t: "Strategic = Central."},
            {q: "Desentralisasi Semu terjadi jika...", o: ["Wewenang penuh", "Bawahan filter info ke atasan", "Tanpa atasan", "Voting"], r: ["Salah.", "Benar. Kontrol info = Kontrol keputusan.", "Salah.", "Salah."], a: 1, m: "Modul 7", s: "Dinamika", t: "Information control."},
            {q: "Organisasi membesar cenderung...", o: ["Sentralisasi", "Desentralisasi", "Otoriter", "Bubrah"], r: ["Salah.", "Benar. Overload di pusat.", "Salah.", "Salah."], a: 1, m: "Modul 7", s: "Ukuran", t: "Size drives decentralization."},
            {q: "Fungsi Pemasaran biasanya...", o: ["Sentral", "Desentral", "Kaku", "Tutup"], r: ["Salah.", "Benar. Dekat konsumen.", "Salah.", "Salah."], a: 1, m: "Modul 7", s: "Fungsi", t: "Marketing localized."},
            {q: "Fungsi Keuangan biasanya...", o: ["Sentral", "Desentral", "Bebas", "Lokal"], r: ["Benar. Kontrol aset.", "Salah.", "Salah.", "Salah."], a: 0, m: "Modul 7", s: "Fungsi", t: "Finance centralized."},
            {q: "IT canggih memungkinkan...", o: ["Sentral saja", "Desentral saja", "Keduanya", "Hapus PC"], r: ["Salah.", "Salah.", "Benar. Enabler fleksibel.", "Salah."], a: 2, m: "Modul 7", s: "Teknologi", t: "IT enables both."},
            {q: "Lingkungan kompetitif mendorong...", o: ["Sentralisasi", "Desentralisasi", "Birokrasi", "Diam"], r: ["Salah.", "Benar. Butuh reaksi.", "Salah.", "Salah."], a: 1, m: "Modul 7", s: "Lingkungan", t: "Turbulence needs speed."},
            {q: "Dalam struktur fungsional, wewenang cenderung...", o: ["Tersebar", "Tersentralisasi", "Ganda", "Nihil"], r: ["Salah.", "Benar.", "Salah.", "Salah."], a: 1, m: "Modul 7", s: "Struktur", t: "Functional = Centralized."},

            // MODUL 8
            {q: "Klasifikasi teknologi Woodward, KECUALI...", o: ["Unit", "Mass", "Process", "Digital"], r: ["Benar.", "Benar.", "Benar.", "Salah (Ini jawabannya)."], a: 3, m: "Modul 8", s: "Woodward", t: "Unit-Mass-Process."},
            {q: "Produksi Massal cocok dengan struktur...", o: ["Organik", "Mekanistik", "Adhocracy", "Simple"], r: ["Salah.", "Benar. Rutin & Standar.", "Salah.", "Salah."], a: 1, m: "Modul 8", s: "Woodward", t: "Mass = Mechanistic."},
            {q: "Teknologi Unit & Proses cocok dengan...", o: ["Mekanistik", "Organik", "Kaku", "Formal"], r: ["Salah.", "Benar. Butuh adaptasi.", "Salah.", "Salah."], a: 1, m: "Modul 8", s: "Woodward", t: "Unit/Process = Organic."},
            {q: "Dimensi teknologi Perrow...", o: ["Biaya-Waktu", "Variabilitas & Analyzability", "Mesin-Orang", "Input-Output"], r: ["Salah.", "Benar.", "Salah.", "Salah."], a: 1, m: "Modul 8", s: "Perrow", t: "Task characteristics."},
            {q: "Teknologi Non-Rutin cirinya...", o: ["Variasi tinggi, Sulit analisis", "Variasi rendah, Mudah", "Variasi tinggi, Mudah", "Variasi rendah, Sulit"], r: ["Benar.", "Salah.", "Salah.", "Salah."], a: 0, m: "Modul 8", s: "Perrow", t: "Non-routine."},
            {q: "Interdependensi Pooled (Mengumpul) ada pada...", o: ["Perakitan", "Cabang Bank", "Sepakbola", "RS"], r: ["Salah.", "Benar. Terpisah tapi satu induk.", "Salah.", "Salah."], a: 1, m: "Modul 8", s: "Thompson", t: "Pooled interdependence."},
            {q: "Interdependensi Sequential butuh...", o: ["Standar", "Rencana & Jadwal", "Tatap muka", "Telepati"], r: ["Salah.", "Benar. Alur berurutan.", "Salah.", "Salah."], a: 1, m: "Modul 8", s: "Koordinasi", t: "Sequential needs scheduling."},
            {q: "Interdependensi Reciprocal (Timbal Balik) paling...", o: ["Simpel", "Kompleks & Mahal", "Murah", "Jarang"], r: ["Salah.", "Benar. Bolak-balik intens.", "Salah.", "Salah."], a: 1, m: "Modul 8", s: "Thompson", t: "Reciprocal is costly."},
            {q: "Imperatif Teknologi menganggap...", o: ["Teknologi tak penting", "Teknologi penentu struktur", "Manusia utama", "Lingkungan utama"], r: ["Salah.", "Benar.", "Salah.", "Salah."], a: 1, m: "Modul 8", s: "Teori", t: "Tech determines structure."},
            {q: "Output teknologi Jasa bersifat...", o: ["Berwujud", "Tak berwujud & simultan", "Tahan lama", "Ditimbun"], r: ["Salah.", "Benar. Real-time.", "Salah.", "Salah."], a: 1, m: "Modul 8", s: "Jasa", t: "Service characteristics."},

            // MODUL 9
            {q: "Struktur Fungsional mengelompokkan berdasarkan...", o: ["Produk", "Wilayah", "Keahlian/Fungsi", "Konsumen"], r: ["Salah.", "Salah.", "Benar.", "Salah."], a: 2, m: "Modul 9", s: "Desain", t: "Functional grouping."},
            {q: "Kelemahan Fungsional adalah...", o: ["Boros", "Respon lambat (Silo)", "Duplikasi", "Kurang ahli"], r: ["Salah.", "Benar. Sekat antar fungsi.", "Salah.", "Salah."], a: 1, m: "Modul 9", s: "Analisis", t: "Silo effect."},
            {q: "Struktur Produk cocok untuk...", o: ["Satu produk", "Produk beragam & labil", "Hemat", "Kecil"], r: ["Salah.", "Benar. Mandiri tiap divisi.", "Salah.", "Salah."], a: 1, m: "Modul 9", s: "Kontingensi", t: "Divisional for multiproduct."},
            {q: "Struktur Matriks gabungan...", o: ["Fungsional & Produk", "Pusat & Cabang", "Besar & Kecil", "Kuno & Modern"], r: ["Benar. Dua bos.", "Salah.", "Salah.", "Salah."], a: 0, m: "Modul 9", s: "Hibrida", t: "Dual authority."},
            {q: "Tantangan Matriks...", o: ["Wewenang ganda/Bingung", "Simpel", "Kurang komunikasi", "Kaku"], r: ["Benar. Melanggar Unity of Command.", "Salah.", "Salah.", "Salah."], a: 0, m: "Modul 9", s: "Kelemahan", t: "Confusion risk."},
            {q: "Struktur Geografis dipakai jika...", o: ["Produk sama", "Karakteristik wilayah beda", "Canggih", "Satu kantor"], r: ["Salah.", "Benar. Adaptasi lokal.", "Salah.", "Salah."], a: 1, m: "Modul 9", s: "Desain", t: "Geographic fit."},
            {q: "Satgas (Task Force) bersifat...", o: ["Permanen", "Sementara/Ad-Hoc", "Hierarkis", "Rutin"], r: ["Salah.", "Benar. Bubar setelah selesai.", "Salah.", "Salah."], a: 1, m: "Modul 9", s: "Koordinasi", t: "Temporary team."},
            {q: "Integrator Permanen bertugas...", o: ["Memerintah", "Koordinasi tanpa wewenang penuh", "Ganti CEO", "Admin"], r: ["Salah.", "Benar. Butuh skill persuasi.", "Salah.", "Salah."], a: 1, m: "Modul 9", s: "Posisi", t: "Lateral coordinator."},
            {q: "Struktur Hibrida bertujuan...", o: ["Kacau", "Ambil untung Fungsional & Produk", "Hapus manajer", "Kurang gaji"], r: ["Salah.", "Benar. Jalan tengah.", "Salah.", "Salah."], a: 1, m: "Modul 9", s: "Desain", t: "Best of both worlds."},
            {q: "Gejala struktur Salah Konstruksi...", o: ["Lambat, konflik, kinerja buruk", "Laba naik", "Karyawan banyak", "Gedung baru"], r: ["Benar. Tanda penyakit.", "Salah.", "Salah.", "Salah."], a: 0, m: "Modul 9", s: "Diagnosa", t: "Misfit symptoms."},
            {q: "Struktur Jaringan (Network) berarti...", o: ["Kerja sendiri", "Outsource non-inti", "Banyak PC", "Tanpa kantor"], r: ["Salah.", "Benar. Fokus core competence.", "Salah.", "Salah."], a: 1, m: "Modul 9", s: "Tren", t: "Outsourcing."},
            {q: "Rentang kendali sempit cocok untuk...", o: ["Rutin", "Kompleks", "Otomatis", "Remeh"], r: ["Salah.", "Benar. Butuh bimbingan.", "Salah.", "Salah."], a: 1, m: "Modul 9", s: "Desain", t: "Complex needs supervision."},
            {q: "Ubah struktur saat...", o: ["Tiap tahun", "Strategi berubah/Masalah kinerja", "Tahun baru", "Jangan"], r: ["Salah.", "Benar. Structure follows strategy.", "Salah.", "Salah."], a: 1, m: "Modul 9", s: "Perubahan", t: "Strategic fit."},
            {q: "Overload di puncak sering terjadi pada struktur...", o: ["Produk", "Fungsional", "Matriks", "Tim"], r: ["Salah.", "Benar. Masalah numpuk di atas.", "Salah.", "Salah."], a: 1, m: "Modul 9", s: "Kelemahan", t: "Top overload."},
            {q: "Slack Resources adalah...", o: ["Sumber daya cadangan/buffer", "Rusak", "Malas", "Utang"], r: ["Benar. Meredam guncangan.", "Salah.", "Salah.", "Salah."], a: 0, m: "Modul 2", s: "Adaptasi", t: "Slack reduces stress."},
            {q: "Nirlaba sulit diukur efektivitasnya karena...", o: ["Tak ada uang", "Output intangible", "Tak ada bos", "Kecil"], r: ["Salah.", "Benar. Misi sosial sulit diangkakan.", "Salah.", "Salah."], a: 1, m: "Modul 3", s: "Publik", t: "Intangibility."},
            {q: "Adhocracy cocok untuk...", o: ["Inovasi/Riset", "Pabrik", "Kelurahan", "Resto"], r: ["Benar. Organik ekstrem.", "Salah.", "Salah.", "Salah."], a: 0, m: "Modul 9", s: "Mintzberg", t: "Innovation structure."},
            {q: "Tahap Kolektivitas ditandai...", o: ["Komitmen tinggi/kekeluargaan", "Birokrasi", "Konflik", "Turun"], r: ["Benar.", "Salah.", "Salah.", "Salah."], a: 0, m: "Modul 4", s: "Greiner", t: "Collectivity."},
            {q: "Kekuasaan birokrasi melekat pada...", o: ["Orang", "Posisi", "Harta", "Darah"], r: ["Salah.", "Benar. Jabatan.", "Salah.", "Salah."], a: 1, m: "Modul 4", s: "Weber", t: "Positional power."},
            {q: "Rantai Komando adalah...", o: ["Putus", "Garis wewenang vertikal", "Lingkar", "Datar"], r: ["Salah.", "Benar.", "Salah.", "Salah."], a: 1, m: "Modul 1", s: "Konsep", t: "Scalar chain."}
        ];

        // STATE
        let currentIdx = 0;
        let timeLeft = 90 * 60; // 90 Menit
        let timerInterval;
        let userAnswers = new Array(database.length).fill(null);

        // DOM ELEMENTS
        const el = {
            start: document.getElementById('start-screen'),
            header: document.querySelector('header'),
            main: document.getElementById('main-content'),
            footer: document.querySelector('footer'),
            timer: document.getElementById('timer'),
            progress: document.getElementById('progress'),
            qText: document.getElementById('question-text'),
            modLabel: document.getElementById('module-label'),
            srcLabel: document.getElementById('source-label'),
            optsContainer: document.getElementById('options-container'),
            fbBox: document.getElementById('feedback-box'),
            fbStatus: document.getElementById('fb-status'),
            fbDetails: document.getElementById('fb-details'),
            fbTheory: document.getElementById('fb-theory'),
            fbIcon: document.getElementById('fb-icon'),
            btnNext: document.getElementById('next-btn'),
            btnPrev: document.getElementById('prev-btn')
        };

        function startQuiz() {
            el.start.classList.add('hidden');
            startTimer();
            loadQuestion(0);
        }

        function startTimer() {
            timerInterval = setInterval(() => {
                timeLeft--;
                const m = Math.floor(timeLeft / 60);
                const s = timeLeft % 60;
                el.timer.textContent = `${m.toString().padStart(2,'0')}:${s.toString().padStart(2,'0')}`;
                
                if (timeLeft < 300) el.timer.classList.add('timer-low');

                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    alert("Waktu Habis!");
                }
            }, 1000);
        }

        function loadQuestion(idx) {
            currentIdx = idx;
            const data = database[idx];

            // Reset UI
            el.qText.textContent = data.q;
            el.modLabel.textContent = data.m;
            el.srcLabel.textContent = data.s;
            el.progress.innerHTML = `${idx + 1} <span class="text-slate-300 text-sm font-normal">/ ${database.length}</span>`;
            el.optsContainer.innerHTML = '';
            el.fbBox.classList.add('hidden');
            
            const answered = userAnswers[idx];

            data.o.forEach((opt, i) => {
                const btn = document.createElement('button');
                btn.className = `option-btn w-full text-left p-4 rounded-xl border border-slate-200 bg-white mb-2 flex items-start gap-3 shadow-sm`;
                
                if (answered !== null) {
                    btn.disabled = true;
                    if (i === data.a) {
                        btn.className += " ring-2 ring-green-500 bg-green-50 border-green-200";
                        btn.innerHTML = `<span class="flex-none w-6 h-6 rounded-full bg-green-500 text-white flex items-center justify-center font-bold text-xs">‚úì</span> <span class="text-slate-800 font-medium">${opt}</span>`;
                    } else if (i === answered) {
                        btn.className += " ring-2 ring-red-500 bg-red-50 border-red-200";
                        btn.innerHTML = `<span class="flex-none w-6 h-6 rounded-full bg-red-500 text-white flex items-center justify-center font-bold text-xs">‚úï</span> <span class="text-slate-800 font-medium">${opt}</span>`;
                    } else {
                        btn.className += " opacity-50";
                        btn.innerHTML = `<span class="flex-none w-6 h-6 rounded-full border border-slate-300 flex items-center justify-center font-bold text-xs text-slate-400">${String.fromCharCode(65+i)}</span> <span class="text-slate-500">${opt}</span>`;
                    }
                } else {
                    btn.onclick = () => selectAnswer(i);
                    btn.className += " hover:bg-slate-50 active:bg-blue-50";
                    btn.innerHTML = `<span class="flex-none w-6 h-6 rounded-full border border-slate-300 flex items-center justify-center font-bold text-xs text-slate-400">${String.fromCharCode(65+i)}</span> <span class="text-slate-700 font-medium">${opt}</span>`;
                }
                
                el.optsContainer.appendChild(btn);
            });

            if (answered !== null) {
                showFeedback(data, answered);
            }

            el.btnPrev.disabled = idx === 0;
            if (idx === database.length - 1) {
                el.btnNext.innerHTML = `<span>Selesai</span>`;
                el.btnNext.onclick = () => alert(`Selamat! Anda telah menyelesaikan ${database.length} soal.`);
            } else {
                el.btnNext.innerHTML = `<span>Selanjutnya</span> <svg class="w-5 h-5 opacity-50" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M9 5l7 7-7 7"></path></svg>`;
                el.btnNext.onclick = () => nextQuestion();
            }
            
            el.main.scrollTo(0,0);
        }

        function selectAnswer(choiceIdx) {
            userAnswers[currentIdx] = choiceIdx;
            loadQuestion(currentIdx);
        }

        function showFeedback(data, userChoice) {
            el.fbBox.classList.remove('hidden');
            const isCorrect = userChoice === data.a;

            if (isCorrect) {
                el.fbStatus.textContent = "Jawaban Tepat!";
                el.fbStatus.className = "font-bold text-lg text-green-700";
                el.fbIcon.innerHTML = "üéâ";
                el.fbBox.className = "bg-green-50 rounded-2xl border border-green-200 p-5 shadow-sm mb-8 animate-fade-in-up";
            } else {
                el.fbStatus.textContent = "Jawaban Kurang Tepat";
                el.fbStatus.className = "font-bold text-lg text-red-700";
                el.fbIcon.innerHTML = "ü§î";
                el.fbBox.className = "bg-white rounded-2xl border border-red-200 p-5 shadow-sm mb-8 animate-fade-in-up";
            }

            el.fbDetails.innerHTML = '';
            data.o.forEach((opt, i) => {
                const div = document.createElement('div');
                div.className = "feedback-item p-3 rounded text-xs leading-relaxed";
                
                if (i === data.a) {
                    div.className += " correct text-green-900";
                    div.innerHTML = `<strong class="block mb-1 font-bold">Opsi ${String.fromCharCode(65+i)} (Benar):</strong> ${data.r[i]}`;
                } else if (i === userChoice && !isCorrect) {
                    div.className += " wrong text-red-900";
                    div.innerHTML = `<strong class="block mb-1 font-bold">Opsi ${String.fromCharCode(65+i)} (Pilihanmu):</strong> ${data.r[i]}`;
                } else {
                    div.className += " neutral text-slate-500 bg-slate-50";
                    div.innerHTML = `<strong class="block mb-1 text-slate-700">Opsi ${String.fromCharCode(65+i)}:</strong> ${data.r[i]}`;
                }
                el.fbDetails.appendChild(div);
            });

            el.fbTheory.textContent = data.t;
        }

        function nextQuestion() {
            if (currentIdx < database.length - 1) loadQuestion(currentIdx + 1);
        }

        function prevQuestion() {
            if (currentIdx > 0) loadQuestion(currentIdx - 1);
        }

    </script>
</body>
</html>

